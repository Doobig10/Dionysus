import gamedata.gameplay.Board;
import gamedata.mapdata.*;
import gamedata.mapdata.roomTypes.*;
import org.junit.Test;

import java.util.ArrayList;

public class CreateBoardTest {

    public Tile gd(int length, Linkable terminator) {
        return TileChain.getDefault(length, terminator);
    }

    @Test
    public void CreateBoard () {

        // DEFINE BOARD ELEMENTS
        // Auto Generated by ID
        BuildTool tool = new BuildTool(new Staircase());
        tool.generateRoomsWithIdentifier("l1", RoomType.RED, 9);

        tool.generateRoomsWithIdentifier("l2", RoomType.PURPLE, 9);
        tool.generateRoomsWithIdentifier("l3", RoomType.YELLOW, 16);
        tool.generateRoomsWithIdentifier("l4", RoomType.GREEN, 18);
        tool.generateRoomsWithIdentifier("l5", RoomType.ORANGE, 16);
        tool.generateRoomsWithIdentifier("l6", RoomType.BLUE, 9);

        tool.generateRoomsWithIdentifier("c", RoomType.CHAMBER, 11);
        tool.generateJunctions(100);

        // CONFIGURE CONNECTIONS
        // Manual
        AbstractRoom origin = tool.getOrigin();
        ArrayList<AbstractRoom> l1 = tool.getRooms().get("l1");
        ArrayList<AbstractRoom> l2 = tool.getRooms().get("l2");
        ArrayList<AbstractRoom> l3 = tool.getRooms().get("l3");
        ArrayList<AbstractRoom> l4 = tool.getRooms().get("l4");
        ArrayList<AbstractRoom> l5 = tool.getRooms().get("l5");
        ArrayList<AbstractRoom> l6 = tool.getRooms().get("l6");
        ArrayList<AbstractRoom> c = tool.getRooms().get("c");
        ArrayList<Tile> juncs = tool.getJunctions();

        origin.link(gd(1, juncs.get(0)));
        origin.link(gd(2,juncs.get(1)));
        origin.link(gd(1, juncs.get(2)));
        origin.link(gd(1, juncs.get(5)));

        juncs.get(0).link(l1.get(0));
        juncs.get(0).link(gd(2, l1.get(1)));
        juncs.get(0).link(gd(5, juncs.get(18)));

        juncs.get(1).link(l1.get(0));
        juncs.get(1).link(gd(1, l1.get(2)));
        juncs.get(1).link(gd(3, juncs.get(24)));

        juncs.get(2).link(l1.get(4));
        juncs.get(2).link(juncs.get(3));

        juncs.get(3).link(l1.get(3));
        juncs.get(3).link(gd(3, juncs.get(4)));

        juncs.get(4).link(l4.get(11));
        juncs.get(4).link(l4.get(12));

        juncs.get(5).link(l1.get(5));
        juncs.get(5).link(juncs.get(6));

        juncs.get(6).link(gd(4, juncs.get(7)));
        juncs.get(6).link(gd(1, juncs.get(8)));

        //TODO: juncs.get(7)

        juncs.get(8).link(l1.get(8));
        juncs.get(8).link(gd(1, juncs.get(9)));

        juncs.get(9).link(gd(1, juncs.get(10)));
        juncs.get(9).link(juncs.get(11));

        juncs.get(10).link(l1.get(7));
        juncs.get(10).link(gd(1, l1.get(6)));

        juncs.get(11).link(gd(4, juncs.get(12)));
        juncs.get(11).link(gd(11, c.get(9)));
        
        juncs.get(12).link(l4.get(0));
        juncs.get(12).link(juncs.get(13));
        
        juncs.get(13).link(juncs.get(14));
        juncs.get(13).link(gd(2, juncs.get(15)));

        juncs.get(14).link(gd(2, juncs.get(15)));
        juncs.get(14).link(gd(1, l4.get(1)));
        juncs.get(14).link(gd(2, c.get(2)));

        juncs.get(15).link(gd(1, l4.get(4)));
        juncs.get(15).link(gd(1, juncs.get(16)));

        juncs.get(16).link(l4.get(3));
        juncs.get(16).link(gd(1, juncs.get(17)));

        juncs.get(17).link(gd(1, juncs.get(18)));
        juncs.get(17).link(gd(3, juncs.get(19)));
        juncs.get(17).link(gd(1, c.get(1)));

        juncs.get(18).link(gd(1, l4.get(5)));

        juncs.get(19).link(l4.get(7));
        juncs.get(19).link(gd(3, juncs.get(20)));

        juncs.get(20).link(l3.get(0));
        juncs.get(20).link(gd(1, juncs.get(21)));

        juncs.get(21).link(l3.get(1));
        juncs.get(21).link(juncs.get(22));

        juncs.get(22).link(juncs.get(23));
        juncs.get(22).link(c.get(0));

        juncs.get(23).link(l3.get(2));
        juncs.get(23).link(gd(1,l3.get(3)));

        juncs.get(24).link(juncs.get(25));
        juncs.get(24).link(juncs.get(29));

        juncs.get(25).link(l2.get(0));
        juncs.get(25).link(juncs.get(26));

        juncs.get(26).link(l2.get(1));
        juncs.get(26).link(gd(2, juncs.get(27)));

        juncs.get(27).link(l2.get(2));
        juncs.get(27).link(gd(2,juncs.get(28)));

        juncs.get(28).link(l3.get(9));
        juncs.get(28).link(c.get(7));

        juncs.get(29).link(c.get(5));
        juncs.get(29).link(juncs.get(30));

        juncs.get(30).link(gd(2, l1.get(1)));
        juncs.get(30).link(gd(4, juncs.get(31)));

        juncs.get(31).link(gd(8, juncs.get(32)));
        juncs.get(31).link(gd(1, juncs.get(33)));
        juncs.get(31).link(juncs.get(39));

        juncs.get(32).link(c.get(1));
        juncs.get(32).link(gd(1, l4.get(8)));

        juncs.get(33).link(l2.get(3));
        juncs.get(33).link(juncs.get(34));

        juncs.get(34).link(juncs.get(35));
        juncs.get(34).link(juncs.get(36));

        juncs.get(35).link(l2.get(6));
        juncs.get(35).link(c.get(4));

        juncs.get(36).link(l2.get(5));
        juncs.get(36).link(gd(3, juncs.get(37)));

        juncs.get(37).link(l3.get(6));
        juncs.get(37).link(juncs.get(38));

        juncs.get(38).link(l3.get(7));
        juncs.get(38).link(gd(1, c.get(0)));

        juncs.get(39).link(l2.get(4));
        juncs.get(39).link(gd(2, juncs.get(40)));

        juncs.get(40).link(gd(1, c.get(0)));
        juncs.get(40).link(gd(2, l3.get(8)));

        juncs.get(41).link(l3.get(5));
        juncs.get(41).link(gd(1,l3.get(4)));

        juncs.get(42).link(l2.get(7));
        juncs.get(42).link(gd(6, juncs.get(43)));

        juncs.get(43).link(l3.get(11));
        juncs.get(43).link(gd())











        c.get(0).link(juncs.get(41));
        c.get(4).link(gd(1, juncs.get(42)));

        l1.get(2).link(gd(2,l2.get(0)));

        l3.get(11).link(l3.get(10));

        l4.get(1).link(gd(1, l4.get(2)));
        l4.get(5).link(l4.get(6));

        Board board = tool.build();
        board.serialise("test_board.ser");

    }

}
